(function(e){e.fn.colSort=function(t){function s(){window.colSortColumns=[];window.colSortColumnLengths=[];for(var t=0;t<r.numCols;t++){var s=e("<div class='col' style='display: inline-block; vertical-align: top; width: "+i+"px'></div>");if(t<r.numCols-1){s.css("margin-right",r.innerPadding)}e(n).append(s);window.colSortColumns[t]=[];window.colSortColumnLengths[t]=0}if(r.elements&&r.elements instanceof Array){window.colSortImages=[];window.colSortTotal=0;for(var t=0;t<r.elements.length;t++){var u=new Image;window.colSortImages.push(u);u.onload=function(){window.colSortTotal+=1};u.src=r.elements[t]}console.log(window.colSortImages);var a=this;window.imgCheck=setInterval(function(){if(window.colSortTotal==r.elements.length){clearInterval(window.imgCheck);var t=0;while(t<r.elements.length){var s=o(window.colSortColumnLengths);window.colSortColumnLengths[s]+=window.colSortImages[t].height/window.colSortImages[t].width*i;var u=e('<img src="'+r.elements[t]+'" style="width: '+i+'px" />');if(r.template){e(n).children(".col:nth-child("+(s+1)+")").append(r.template(u))}else{e(n).children(".col:nth-child("+(s+1)+")").append(u)}t++}}},500)}else{return console.log("Elements is not an array")}}function o(e){var t=0;for(var n=0;n<e.length;n++){if(e[n]<e[t])t=n}return t}var n=this;var r=e.extend({numCols:2,elements:null,template:null,innerPadding:0},t);var i=Math.floor((e(n).width()-r.innerPadding*(r.numCols-1))/r.numCols);s();return this}})(jQuery)